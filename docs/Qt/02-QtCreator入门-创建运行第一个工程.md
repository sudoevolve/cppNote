# 02-Qt Creator 入门：创建、运行第一个工程

目录页：见 [Qt 教程目录](00-目录.md)

## 目标

- 在 Qt Creator 里新建一个最小工程并成功运行
- 看懂“Kit/编译器/构建目录”这些新名词在干什么
- 学会最常用的按钮：构建、运行、调试

## 先决知识（可选）

- 已完成安装（见 01 章）

---

## 1. Qt Creator 是什么：你写代码的“工作台”

- 专业名称：IDE（Integrated Development Environment，集成开发环境）
- 类比：一个“带工具的工作台”，写代码（编辑器）+ 编译（构建）+ 运行 + 调试都在这里
- 作用：少切窗口、少折腾配置，提升效率
- 规则/坑点：Qt Creator 本身不等于 Qt；它只是 IDE，真正的 Qt 库 + 编译器由你安装的组件提供

---

## 2. 新建工程：先用 Widgets（更直观）

新手建议第一步用 Widgets 工程：能最快看到一个窗口出现，直觉更强。

操作路径（不同版本菜单名字可能略有差异，但逻辑一样）：

1. File / 文件 → New File or Project / 新建文件或项目
2. 选择 Application → Qt Widgets Application（或 Widgets Application）
3. 填项目名、路径
4. 选择构建系统（如果让你选）：
   - 推荐：CMake（更通用）
   - 也可能是 qmake（老项目常见）
5. 选择 Kit（关键，下一节讲）
6. 完成

---

## 3. Kit 是什么：Qt + 编译器 + 一套“能跑的配置”

- 专业名称：Kit（套件）
- 类比：一套“装备包”，里面有：Qt 版本 + 编译器 + 调试器 + 目标平台配置
- 作用：同一个工程可以用不同 Kit 构建（例如 MinGW / MSVC、Debug / Release）
- 规则/坑点：选错 Kit 最常见的表现是“能打开工程但编译不了”

你要会读几个关键词：

- Debug / Release  
  - Debug：方便调试，慢一点，体积大一点
  - Release：优化后运行更快，适合最终发布
- MinGW / MSVC（Windows 常见）  
  - MinGW：安装更省事
  - MSVC：更贴近企业环境

新手建议：
- 先用一个你最容易装成功、能跑起来的 Kit（通常是 MinGW Debug）

---

## 4. 构建目录是什么：把“中间产物”放到单独盒子里

- 专业名称：Build Directory（构建目录）
- 类比：做饭时的“案板区”，切菜产生的碎屑别混进食材原包装里
- 作用：源码目录保持干净；删除构建目录就等于“清空重新编译”
- 规则/坑点：不要把构建目录放进源码目录里（能放旁边就放旁边）

Qt Creator 通常会自动给你一个类似这样的构建目录：
- `build-项目名-Desktop_Qt_6_x_x-...-Debug`

---

## 5. 一键运行：你需要看懂这三步

当你点击运行（Run）时，本质上发生了三步：

1. 配置（configure）：CMake/qmake 生成构建规则
2. 编译（build）：编译器把 `.cpp` 变成可执行文件
3. 运行（run）：启动可执行文件

你在 Creator 里最常用的三个按钮：

- 构建（Build）：只做第 2 步
- 运行（Run）：做第 2 + 3 步（必要时也会先配置）
- 调试（Debug）：在调试器下运行，能断点、单步、看变量

---

## 常见坑

- 错误：工程能创建，但点击运行提示“没有可用 Kit / No valid kits found”  
  结果：无法编译运行  
  正确：打开 Tools → Options → Kits（或 Preferences → Kits）检查是否存在有效 Kit；回到安装器补装对应 Qt + 编译器

- 错误：选了 MSVC Kit，但电脑没装对应版本的 Visual Studio / Build Tools  
  结果：编译器找不到  
  正确：新手先选 MinGW Kit；或者先把 MSVC 环境装完整再用

- 错误：构建目录混进源码目录（生成一堆临时文件）  
  结果：目录变乱、容易误删  
  正确：让构建目录独立（见第 4 节）

---

## 小练习

### 练习 1：切换 Debug/Release

- 题目：同一个工程切换到 Release 构建并运行
- 输入/输出：能运行即可
- 约束：不要新建工程
- 提示：左下角 Kit/构建配置那里可以切 Debug/Release
- 目标：熟悉“同工程多配置”

### 练习 2：清空构建重来

- 题目：删除构建目录，然后重新构建运行
- 输入/输出：能重新生成并运行
- 约束：只删构建目录，不要删源码
- 提示：构建目录名字通常以 `build-` 开头
- 目标：掌握“出问题就干净重建”的基本手法

---

## 小结

- Qt Creator 是 IDE；Kit 是“Qt + 编译器 + 调试器 + 配置”的组合
- 构建目录用来放中间产物，保持源码目录干净
- 运行=配置（必要时）+ 编译 + 启动；调试是在调试器里跑

下一篇：见 [03-项目结构-构建系统与常见文件](03-项目结构-构建系统与常见文件.md)
